操作系统实验报告：实验一
13061063郑若琳 13061064贾美娟13061065左佩璇 13061066陈婉迪（组长）
1完成情况
完成所有的基本要求和提高要求，提高要求中还实现了对多重管道的支持以及管道与通配符同时出现的情况。
2问题与解决
郑若琳：
首先是读不懂源码。太多名词不懂得意思，太多必备知识不具备，读了很久代码、百度了很多概念之后才大概懂得源码是怎样一个流程，才大概对如何实现要求有了初步的想法。然后是调试的问题。运行之后报的错太抽象模糊。因为是在源码上修改的关系，代码量比之前接触过的所有代码都大，而且不是自己写的，很多地方一知半解，根本无法定位出错的位置。调试过程艰难异常，完全不知道错在何方。最后只能一点点的用报错的信息百度错误的原因，才知道是指针操作有问题。因为代码涉及到了系统调用，里面对于指针的释放修改等操作我根本无法得知。当时我连该如何调试都不知道，更不知道可能出了什么错，真的完全没有头绪。最后只能一点点的把所有用到的参数都printf出来，一个个检查，一遍一遍的运行、修改、再运行，再修改，这才最终发现是我把本应用strcpy的地方用成了直接赋值=。整个过程真的非常艰难而且完全失去了信心，只能碰运气。最后能发现问题并且调试成功真的很幸运。
贾美娟：
在本次实验中，我和另一位同学共同实现管道的设计。
1、不理解部分指令的作用：我们首先阅读了实验指导书的shall程序部分，着重看了pipe实现的源码，试图理解其设计原理，刚开始阅读时，不能明白部分指令的作用，我们通过网上查阅资料，回看实验指导书，解决了这一问题；
2、理解源码原理：接下来，我们对管道源码的结构进行了分析，大致可将其粗略的分为两个部分，第一部分是对于参数列表的构建，第二部分是实现管道功能。其中，参数列表可直接由输入参数构建，管道功能的实现大致与源码相同。
3、不会实现多重管道：我们对如何实现多重管道毫无头绪，在热心且大神的同学指导下，我们采用了构建管道链表的方式：在global.h文件中定义的simpleCmd结构体中添加了指针，以创建结构体链表，实现多重管道。当然，新加入的管道命令没有相应的命令解释代码，因此需在handSimpleCmdStr函数中，加入处理管道标识符“|”的部分，因为可能含有管道命令的嵌套，因此在具体处理时递归调用处理函数。
左佩璇：
问题： 1.管道的参数怎么传入，在研究书上给的管道的样例的时候，他给的参数自己创建了，但是我们需要把参数给传进去，参数从哪里传进来的也不知道；
2.多重管道的问题，如果是多重管道，如何调用。又如何将多重管道解析出来？解析出来了怎么存储?
3.多重管道和通配符不是一个人写的，如何组合在一起使其可以支持多重管道里面通配符问题；
解决方法：1.认真分析了书上给的例子，觉得一次性传入两个参数才是对的，传进去的参数要在之前的命令解析里面分析出来；
2.多重管道的时候，可以用数组也可以用链表来存储，我们选择的是链表，不断的遍历链表，当下一个指针是NuLL的时候，管道结束；
3.大家一起分析了多重管道在什么地方会用到解析通配符的问题，再合适的地方将判断执行通配符解析的代码嵌套了进去；
陈婉迪：
1.对flex和bison不了解：在做这个实验之前我们都没有接触过flex和bison，所以刚开始的时候完全是一头雾水。在看了助教给的参考书后，对要用flex写yylex()函数还是有点担心，后来按参考书上的指导尝试着写了一些代码后逐渐有了信心。
2.如何整合源码和自己加入的代码：在看参考书学习flex时，每个程序都是单独的文件分开编译的，所以我对怎么将自己写的yylex()函数加到源码里很茫然。后来通过上网查询了解了yyparse()整个调用过程，又寻求了大神的帮助，最终解决了这个问题。
3总结
郑若琳：
第一次接触shell解释程序就直接看代码完成各种命令的确有些力不从心，一开始连源代码到底在干些什么都不知道，连代码从哪里开始运行的都不知道，只能凭自己摸索和大神帮助才一点点读通了代码，摸索着添加和修改代码以完成实验要求。调试的时候因为不熟悉源码和系统调用，过程异常艰难，几十行代码调了整整一天才最终发现问题并解决。感谢小伙伴们的支持和信任，在我下午马上要检查了凌晨还没找到问题时依然没有放弃我。感谢她们。
贾美娟：
第一次的OS 实验做得很不轻松，第一遍看实验指导书时，感觉很茫然，总有一种似懂非懂的感觉（直到看到源码的时候，终于可以确定自己确实是没懂……），甚至对于部分函数的作用也不是很清晰，经过上网查资料、仔细翻看实验指导书，终于能把源码读通了，又经过和另一位同学的讨论，我们大致能理解pipe管道为什么这样处理，最终也是在同组成员和大神的帮助下，完成了这个任务，认识到自己和大神的差距还是很大，还要继续努力学习。And自学能力很重要，网络、辅导书、同学都是很好的资源。
这次实验是第一次真正意义上的团队合作，比起独自完成，团队能够集合我们所有成员的能力，相互讨论也能加深我们对作业的理解，从而更好的完成任务，先分工再整合的工作模式让我们不仅能理解自己负责的部分，也能大致了解整体的内容。
左佩璇：
这一次写作业看到那么长的源码还有实验指导书上长达四十页的第五章真的十分的头疼，不知道该从哪部分着手；在看完了实验指导书和源码之后，对整个源码有了一定的了解，但是也仅仅是知道他是在干什么，每一段代码实现了什么样的功能，怎么实现的详细的算法并没有详细的去研究；然后就在写自己的那一部分的时候出现了问题，只好返回去又把源码从头到尾捋了一遍；还是没明白自己到底该干些什么，在网上查阅了一些关于管道和重定向的文章，有了一点思路，在写代码遇到困境的时候积极地去向其他同学求助，大家互相讲解分享自己的理解，对我的整个过程起到了很大的帮助；
这一次团队合作很让我感动，当我们来到实验教室的时候才发现我们有一些源码的坑没有发现，于是大家有条不紊的开始解决这些问题，查阅书籍，尝试着根据ppt修改代码，积极询问周围的同学；在我们的坚持下将这些问题一个一个的解决了；
陈婉迪：
刚开始看实验指导书时其实心里特别茫然，由于对linux系统不了解，对很多要求并不理解，源码更是看不懂。于是就开始一遍又一遍的读源码和实验指导书，这才逐渐开始有些头绪，知道大概需要完成些什么，但是对具体的实现还是毫无头绪。之后通过查阅各种资料，开始。在通读了几遍源码以及看完了实验指导书后才有了一些了解。在完成任务的过程中也遇到了很多问题，主要在于对shell的不了解，刚接触就要完成这样一个程序，感觉特别困难，不知道该从哪儿开始，所以只好一遍又一遍的读源码，查阅有关资料，这才开始慢慢有了思路。在具体实现的过程中也遇到了很多问题，还好最终都一一解决了。
这次实验对我们来说是一次很宝贵的经验，大家从开始的手忙脚乱无从下笔十分崩溃，到最后测试前还能有条不紊的修改小bug，都是因为完成的过程中对实验有了更深的认识和了解，几个小伙伴一起完成也让我们相互交流想法，为对方解决问题。
